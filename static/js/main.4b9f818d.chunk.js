(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{13:function(t,e,n){"use strict";n.d(e,"d",(function(){return j})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return h}));var c=n(15),r=n.n(c),a=n(24),i=n(19),o=n.n(i),u=n(3);o.a.defaults.baseURL="https://connections-api.herokuapp.com";var s=function(t){o.a.defaults.headers.common.Authorization="Bearer ".concat(t)},b=function(){o.a.defaults.headers.common.Authorization=""},j=Object(u.c)("auth/register",function(){var t=Object(a.a)(r.a.mark((function t(e){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.post("/users/signup",e);case 3:return n=t.sent,c=n.data,s(c.token),t.abrupt("return",c);case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()),l=Object(u.c)("auth/login",function(){var t=Object(a.a)(r.a.mark((function t(e){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.post("/users/login",e);case 3:return n=t.sent,c=n.data,s(c.token),t.abrupt("return",c);case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()),d=Object(u.c)("auth/logout",function(){var t=Object(a.a)(r.a.mark((function t(e){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.post("/users/logout",e);case 3:return n=t.sent,c=n.data,b(),t.abrupt("return",c);case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()),h=Object(u.c)("auth/refresh",function(){var t=Object(a.a)(r.a.mark((function t(e,n){var c,a,i,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n.getState(),null!==(a=c.auth.token)){t.next=4;break}return t.abrupt("return",n.rejectWithValue());case 4:return s(a),t.prev=5,t.next=8,o.a.get("/users/current");case 8:return i=t.sent,u=i.data,t.abrupt("return",u);case 13:t.prev=13,t.t0=t.catch(5);case 15:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e,n){return t.apply(this,arguments)}}())},23:function(t,e,n){"use strict";n.d(e,"i",(function(){return r})),n.d(e,"j",(function(){return a})),n.d(e,"h",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return s})),n.d(e,"f",(function(){return b})),n.d(e,"g",(function(){return j})),n.d(e,"e",(function(){return l})),n.d(e,"d",(function(){return d}));var c=n(3),r=Object(c.b)("contacts/fetchContactRequest"),a=Object(c.b)("contacts/fetchContactSuccess"),i=Object(c.b)("contacts/fetchContactError"),o=Object(c.b)("contacts/addContactRequest"),u=Object(c.b)("contacts/addContactSuccess"),s=Object(c.b)("contacts/addContactError"),b=Object(c.b)("contacts/deleteContactRequest"),j=Object(c.b)("contacts/deleteContactSuccess"),l=Object(c.b)("contacts/deleteContactError"),d=Object(c.b)("app/changeFilter")},46:function(t,e,n){t.exports={container:"Container_container__14MLr"}},59:function(t,e,n){},85:function(t,e,n){"use strict";n.r(e);var c,r,a,i,o,u=n(0),s=n.n(u),b=n(26),j=n.n(b),l=n(14),d=n(5),h=n(45),f=(n(58),n(59),n(4)),O=n(13),p=function(t){return t.auth.isLoggedIn},g=function(t){return t.auth.user.name},x=function(t){return t.auth.isFetchingCurrentUser},v=n(46),k=n.n(v),m=n(1),y=function(t){var e=t.children;return Object(m.jsx)("div",{className:k.a.container,children:e})},C=n(17),w=n(18),L=Object(w.a)(l.b)(c||(c=Object(C.a)(["\n    margin-right: 20px;\n    color: rgba(39, 164, 236);\n\n    font-weight: 600;\n    font-size: 20px;\n    line-height: 1.475;\n\n    &.activeLink {\n    color: rgb(4, 109, 165);\n  }\n  "]))),z=w.a.nav(r||(r=Object(C.a)(["\ncolor: rgba(39, 164, 236,0);\n    /* display: flex;\n    justify-content:right;\n    border-bottom: solid 1px pink; */\n  "]))),S=function(){var t=Object(d.d)(p);return Object(m.jsxs)(z,{children:[Object(m.jsx)(L,{exact:!0,to:"/",activeClassName:"activeLink",children:"Home"}),t&&Object(m.jsx)(L,{to:"/contacts",activeClassName:"activeLink",children:"Contacts"})]})},T=Object(w.a)(l.b)(a||(a=Object(C.a)(["\n    margin-right: 20px;\n    color: rgb(39, 164, 236);\n\n    font-weight: 600;\n    font-size: 20px;\n    line-height: 1.475;\n\n    &.activeLink {\n    color: rgb(4, 109, 165);\n  }\n  "]))),F=w.a.nav(i||(i=Object(C.a)(["\n  color: rgb(39, 164, 236);\n    /* border-bottom: solid 1px pink; */\n  "]))),I=function(){return Object(m.jsxs)(F,{children:[Object(m.jsx)(T,{exact:!0,to:"/register",activeClassName:"activeLink",children:"Register"}),Object(m.jsx)(T,{exact:!0,to:"/login",activeClassName:"activeLink",children:"Login"})]})};function R(){var t=Object(d.c)(),e=Object(d.d)(g);return Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{src:"",alt:"",width:"32"}),Object(m.jsxs)("span",{children:["Welcome, ",e]}),Object(m.jsx)("button",{type:"button",onClick:function(){return t(Object(O.c)())},children:" Log out"})]})}var U=w.a.header(o||(o=Object(C.a)(["\n    display: flex;\n    justify-content: space-between;\n    margin-right: 20px;\n    color: rgb(39, 164, 236);\n\n    font-weight: 600;\n    font-size: 20px;\n    line-height: 1.475;\n\n    border-bottom: solid 1px rgb(39, 164, 236);\n\n    &.activeLink {\n    color: rgb(4, 109, 165);\n  }\n  "])));function N(){var t=Object(d.d)(p);return Object(m.jsxs)(U,{children:[Object(m.jsx)(S,{}),t?Object(m.jsx)(R,{}):Object(m.jsx)(I,{})]})}var q=n(22),E=n(30),A=["children","redirectTo"];function _(t){var e=t.children,n=t.redirectTo,c=void 0===n?"/":n,r=Object(E.a)(t,A),a=Object(d.d)(p);return Object(m.jsx)(f.b,Object(q.a)(Object(q.a)({},r),{},{children:a?e:Object(m.jsx)(f.a,{to:c})}))}var J=["children","redirectTo","restricted"];function M(t){var e=t.children,n=t.redirectTo,c=void 0===n?"/":n,r=t.restricted,a=void 0!==r&&r,i=Object(E.a)(t,J),o=Object(d.d)(p)&&a;return Object(m.jsx)(f.b,Object(q.a)(Object(q.a)({},i),{},{children:o?Object(m.jsx)(f.a,{to:c}):e}))}var W=Object(u.lazy)((function(){return n.e(1).then(n.bind(null,91))})),B=Object(u.lazy)((function(){return n.e(4).then(n.bind(null,92))})),H=Object(u.lazy)((function(){return n.e(2).then(n.bind(null,93))})),V=Object(u.lazy)((function(){return n.e(0).then(n.bind(null,94))}));function D(){var t=Object(d.c)(),e=Object(d.d)(x);return Object(u.useEffect)((function(){t(Object(O.a)())}),[t]),!e&&Object(m.jsxs)(y,{children:[Object(m.jsx)(N,{}),Object(m.jsx)(u.Suspense,{fallback:Object(m.jsx)("div",{children:"Loading..."}),children:Object(m.jsxs)(f.d,{children:[Object(m.jsx)(M,{exact:!0,path:"/",children:Object(m.jsx)(W,{})}),Object(m.jsx)(M,{exact:!0,path:"/register",restricted:!0,children:Object(m.jsx)(B,{})}),Object(m.jsx)(M,{exact:!0,path:"/login",redirectTo:"/contacts",restricted:!0,children:Object(m.jsx)(H,{})}),Object(m.jsx)(_,{path:"/contacts",redirectTo:"/login",children:Object(m.jsx)(V,{})})]})})]})}var G,K,P=n(29),Q=n(3),X=n(48),Y=n.n(X),Z=n(16),$=n(49),tt=n.n($),et=n(8),nt=n(6),ct=n(23),rt=Object(Q.d)([],(G={},Object(et.a)(G,ct.j,(function(t,e){return e.payload})),Object(et.a)(G,ct.c,(function(t,e){return[e.payload].concat(Object(P.a)(t))})),Object(et.a)(G,ct.g,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),G)),at=Object(Q.d)("",Object(et.a)({},ct.d,(function(t,e){return e.payload}))),it=Object(nt.b)({items:rt,filter:at}),ot=Object(Q.e)({name:"auth",initialState:{user:{name:null,email:null},token:null,isLoggedIn:!1,isFetchingCurrentUser:!1},extraReducers:(K={},Object(et.a)(K,O.d.fulfilled,(function(t,e){t.user=e.payload.user,t.token=e.payload.token,t.isLoggedIn=!0})),Object(et.a)(K,O.b.fulfilled,(function(t,e){t.user=e.payload.user,t.token=e.payload.token,t.isLoggedIn=!0})),Object(et.a)(K,O.c.fulfilled,(function(t,e){t.user={name:null,email:null},t.token=null,t.isLoggedIn=!1})),Object(et.a)(K,O.a.pending,(function(t){t.isFetchingCurrentUser=!0})),Object(et.a)(K,O.a.fulfilled,(function(t,e){t.user=e.payload,t.isLoggedIn=!0,t.isFetchingCurrentUser=!1})),Object(et.a)(K,O.a.rejected,(function(t){t.isFetchingCurrentUser=!1})),K)}).reducer,ut=[].concat(Object(P.a)(Object(Q.f)({serializableCheck:{ignoredActions:[Z.a,Z.f,Z.b,Z.c,Z.d,Z.e]}})),[Y.a]),st={key:"auth",storage:tt.a,whitelist:["token"]},bt=Object(Q.a)({reducer:{auth:Object(Z.g)(st,ot),contacts:it},middleware:ut,devTools:!1}),jt=Object(Z.h)(bt);j.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(d.a,{store:bt,children:Object(m.jsx)(h.a,{loading:null,persistor:jt,children:Object(m.jsx)(l.a,{children:Object(m.jsx)(D,{})})})})}),document.querySelector("#root"))}},[[85,5,6]]]);
//# sourceMappingURL=main.4b9f818d.chunk.js.map