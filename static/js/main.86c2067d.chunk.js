(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[4],{119:function(t,e,n){"use strict";n.r(e);var r,c,a,i,o,u,s,b,l,d=n(0),j=n.n(d),p=n(46),h=n.n(p),f=n(30),O=n(14),x=n(74),g=(n(93),n(94),n(8)),v=n(25),m=function(t){return t.auth.isLoggedIn},k=function(t){return t.auth.user.name},y=function(t){return t.auth.isFetchingCurrentUser},w=n(10),C=n(15),L=C.a.div(r||(r=Object(w.a)(["\n   margin-left: auto;\n   margin-right: auto;\n   padding-top: 20px;\n   padding-left: 15px;\n   padding-right: 15px;\n   width: 762px;\n  "]))),z=n(2),I=function(t){var e=t.children;return Object(z.jsx)(L,{children:e})},S=Object(C.a)(f.b)(c||(c=Object(w.a)(["\n    margin-right: 20px;\n    color: rgba(39, 164, 236);\n    font-weight: 600;\n    font-size: 20px;\n    line-height: 1.475;\n    &.activeLink {\n    color: rgb(4, 109, 165);\n  }\n  "]))),T=C.a.nav(a||(a=Object(w.a)(["\ncolor: rgba(39, 164, 236,0);\n    /* display: flex;\n    justify-content:right;\n    border-bottom: solid 1px pink; */\n  "]))),F=function(){var t=Object(O.d)(m);return Object(z.jsxs)(T,{children:[Object(z.jsx)(S,{exact:!0,to:"/",activeClassName:"activeLink",children:"Home"}),t&&Object(z.jsx)(S,{to:"/contacts",activeClassName:"activeLink",children:"Contacts"})]})},R=Object(C.a)(f.b)(i||(i=Object(w.a)(["\n    margin-right: 20px;\n    color: rgb(39, 164, 236);\n    font-weight: 600;\n    font-size: 20px;\n    line-height: 1.475;\n    &.activeLink {\n    color: rgb(4, 109, 165);\n  }\n  "]))),U=C.a.nav(o||(o=Object(w.a)(["\n  color: rgb(39, 164, 236);\n    /* border-bottom: solid 1px pink; */\n  "]))),q=function(){return Object(z.jsxs)(U,{children:[Object(z.jsx)(R,{exact:!0,to:"/register",activeClassName:"activeLink",children:"Register"}),Object(z.jsx)(R,{exact:!0,to:"/login",activeClassName:"activeLink",children:"Login"})]})},E=(C.a.div(u||(u=Object(w.a)(["\n    display:flex;\n  "]))),C.a.span(s||(s=Object(w.a)(["\n    margin-right: 20px;\n    color: grey;\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 1.375;\n  "])))),N=(C.a.button(b||(b=Object(w.a)(["\n    padding: 4px 8px;\n    border-radius: 2px;\n    background-color: rgb(4, 109, 165);\n    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n    text-align: center;\n    display: block;\n    margin-top: 10px;\n    margin-bottom: 10px;\n    /* margin-left: 0px; */\n    /* margin-right: auto; */\n    color: #fff;\n    border: 0;\n    text-decoration: none;\n    cursor: pointer;\n    font-family: inherit;\n    font-size: 14px;\n    line-height: 18px;\n    font-style: normal;\n    font-weight: 500;\n    min-width: 100px;\n    box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14),\n    0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n      &:hover, focus {\n        background-color: #a5a1a4;\n      }\n"]))),n(142)),A=n(143),P=n(138),J=n(139);function W(){var t=Object(O.c)(),e=Object(O.d)(k);return Object(z.jsxs)("div",{children:[Object(z.jsx)(A.a,{disabled:!0,color:"primary",children:Object(z.jsx)(P.a,{})}),Object(z.jsxs)(E,{startIcon:Object(z.jsx)(P.a,{}),children:["Welcome, ",e]}),Object(z.jsx)(N.a,{variant:"outlined",size:"small",type:"button",onClick:function(){return t(Object(v.c)())},endIcon:Object(z.jsx)(J.a,{}),children:"Log out"})]})}var B=C.a.header(l||(l=Object(w.a)(["\n    display: flex;\n    justify-content: space-between;\n    padding-bottom:10px;\n    margin-bottom: 20px;\n    color: rgb(39, 164, 236);\n    font-weight: 600;\n    font-size: 20px;\n    line-height: 1.475;\n    border-bottom: solid 1px rgb(39, 164, 236);\n    &.activeLink {\n    color: rgb(4, 109, 165);\n  }\n  "])));function H(){var t=Object(O.d)(m);return Object(z.jsxs)(B,{children:[Object(z.jsx)(F,{}),t?Object(z.jsx)(W,{}):Object(z.jsx)(q,{})]})}var M=n(38),V=n(52),D=["children","redirectTo"];function G(t){var e=t.children,n=t.redirectTo,r=void 0===n?"/":n,c=Object(V.a)(t,D),a=Object(O.d)(m);return Object(z.jsx)(g.b,Object(M.a)(Object(M.a)({},c),{},{children:a?e:Object(z.jsx)(g.a,{to:r})}))}var K=["children","redirectTo","restricted"];function Q(t){var e=t.children,n=t.redirectTo,r=void 0===n?"/":n,c=t.restricted,a=void 0!==c&&c,i=Object(V.a)(t,K),o=Object(O.d)(m)&&a;return Object(z.jsx)(g.b,Object(M.a)(Object(M.a)({},i),{},{children:o?Object(z.jsx)(g.a,{to:r}):e}))}var X=Object(d.lazy)((function(){return n.e(2).then(n.bind(null,162))})),Y=Object(d.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,163))})),Z=Object(d.lazy)((function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,164))})),$=Object(d.lazy)((function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,165))}));function _(){var t=Object(O.c)(),e=Object(O.d)(y);return Object(d.useEffect)((function(){t(Object(v.a)())}),[t]),!e&&Object(z.jsxs)(I,{children:[Object(z.jsx)(H,{}),Object(z.jsx)(d.Suspense,{fallback:Object(z.jsx)("div",{children:"Loading..."}),children:Object(z.jsxs)(g.d,{children:[Object(z.jsx)(Q,{exact:!0,path:"/",children:Object(z.jsx)(X,{})}),Object(z.jsx)(Q,{exact:!0,path:"/register",restricted:!0,children:Object(z.jsx)(Y,{})}),Object(z.jsx)(Q,{exact:!0,path:"/login",redirectTo:"/contacts",restricted:!0,children:Object(z.jsx)(Z,{})}),Object(z.jsx)(G,{path:"/contacts",redirectTo:"/login",children:Object(z.jsx)($,{})})]})})]})}var tt,et,nt=n(21),rt=n(6),ct=n(77),at=n.n(ct),it=n(33),ot=n(78),ut=n.n(ot),st=n(5),bt=n(16),lt=n(42),dt=Object(rt.d)([],(tt={},Object(st.a)(tt,lt.j,(function(t,e){return e.payload})),Object(st.a)(tt,lt.c,(function(t,e){return[e.payload].concat(Object(nt.a)(t))})),Object(st.a)(tt,lt.g,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),tt)),jt=Object(rt.d)("",Object(st.a)({},lt.d,(function(t,e){return e.payload}))),pt=Object(bt.b)({items:dt,filter:jt}),ht=Object(rt.e)({name:"auth",initialState:{user:{name:null,email:null},token:null,isLoggedIn:!1,isFetchingCurrentUser:!1},extraReducers:(et={},Object(st.a)(et,v.d.fulfilled,(function(t,e){t.user=e.payload.user,t.token=e.payload.token,t.isLoggedIn=!0})),Object(st.a)(et,v.b.fulfilled,(function(t,e){t.user=e.payload.user,t.token=e.payload.token,t.isLoggedIn=!0})),Object(st.a)(et,v.c.fulfilled,(function(t,e){t.user={name:null,email:null},t.token=null,t.isLoggedIn=!1})),Object(st.a)(et,v.a.pending,(function(t){t.isFetchingCurrentUser=!0})),Object(st.a)(et,v.a.fulfilled,(function(t,e){t.user=e.payload,t.isLoggedIn=!0,t.isFetchingCurrentUser=!1})),Object(st.a)(et,v.a.rejected,(function(t){t.isFetchingCurrentUser=!1})),et)}).reducer,ft=[].concat(Object(nt.a)(Object(rt.f)({serializableCheck:{ignoredActions:[it.a,it.f,it.b,it.c,it.d,it.e]}})),[at.a]),Ot={key:"auth",storage:ut.a,whitelist:["token"]},xt=Object(rt.a)({reducer:{auth:Object(it.g)(Ot,ht),contacts:pt},middleware:ft,devTools:!1}),gt=Object(it.h)(xt);h.a.render(Object(z.jsx)(j.a.StrictMode,{children:Object(z.jsx)(O.a,{store:xt,children:Object(z.jsx)(x.a,{loading:null,persistor:gt,children:Object(z.jsx)(f.a,{children:Object(z.jsx)(_,{})})})})}),document.querySelector("#root"))},25:function(t,e,n){"use strict";n.d(e,"d",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return j})),n.d(e,"a",(function(){return p}));var r=n(32),c=n.n(r),a=n(43),i=n(36),o=n.n(i),u=n(6);o.a.defaults.baseURL="https://connections-api.herokuapp.com";var s=function(t){o.a.defaults.headers.common.Authorization="Bearer ".concat(t)},b=function(){o.a.defaults.headers.common.Authorization=""},l=Object(u.c)("auth/register",function(){var t=Object(a.a)(c.a.mark((function t(e){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.post("/users/signup",e);case 3:return n=t.sent,r=n.data,s(r.token),t.abrupt("return",r);case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()),d=Object(u.c)("auth/login",function(){var t=Object(a.a)(c.a.mark((function t(e){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.post("/users/login",e);case 3:return n=t.sent,r=n.data,s(r.token),t.abrupt("return",r);case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()),j=Object(u.c)("auth/logout",function(){var t=Object(a.a)(c.a.mark((function t(e){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.post("/users/logout",e);case 3:return n=t.sent,r=n.data,b(),t.abrupt("return",r);case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()),p=Object(u.c)("auth/refresh",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a,i,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.getState(),null!==(a=r.auth.token)){t.next=4;break}return t.abrupt("return",n.rejectWithValue());case 4:return s(a),t.prev=5,t.next=8,o.a.get("/users/current");case 8:return i=t.sent,u=i.data,t.abrupt("return",u);case 13:t.prev=13,t.t0=t.catch(5);case 15:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e,n){return t.apply(this,arguments)}}())},42:function(t,e,n){"use strict";n.d(e,"i",(function(){return c})),n.d(e,"j",(function(){return a})),n.d(e,"h",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return s})),n.d(e,"f",(function(){return b})),n.d(e,"g",(function(){return l})),n.d(e,"e",(function(){return d})),n.d(e,"d",(function(){return j}));var r=n(6),c=Object(r.b)("contacts/fetchContactRequest"),a=Object(r.b)("contacts/fetchContactSuccess"),i=Object(r.b)("contacts/fetchContactError"),o=Object(r.b)("contacts/addContactRequest"),u=Object(r.b)("contacts/addContactSuccess"),s=Object(r.b)("contacts/addContactError"),b=Object(r.b)("contacts/deleteContactRequest"),l=Object(r.b)("contacts/deleteContactSuccess"),d=Object(r.b)("contacts/deleteContactError"),j=Object(r.b)("app/changeFilter")},94:function(t,e,n){}},[[119,6,7]]]);
//# sourceMappingURL=main.86c2067d.chunk.js.map